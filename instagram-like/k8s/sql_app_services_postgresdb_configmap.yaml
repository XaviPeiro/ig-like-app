#apiVersion: v1
#kind: ConfigMap
#metadata:
#  name: sql-app-services-postgres-secret
#  labels:
#    db-type: sql
#    sql: postgres
#data:
#  # kv format
#  POSTGRES_DB: "ig-like"
#  POSTGRES_USER: "ps_user"
#  POSTGRES_PASSWORD: "SecurePassword"
##  actualConfigFile: "name.properties"
#
#  # file format
##  name.properties: |
##    field=value1,value2
#
#---
#apiVersion: v1
#kind: PersistentVolume
#metadata:
#  name: sql-app-services-postgres-volume
#  labels:
#    db-type: sql
#    sql: postgres
#spec:
#  storageClassName: manual
#  capacity:
#    storage: 1Gi
#  accessModes:
#    - ReadWriteMany
#  hostPath:
#    path: /data/postgresql
#
#---
#apiVersion: v1
#kind: PersistentVolumeClaim
#metadata:
#  name: sql-app-services-postgres-volume-claim
#  labels:
#    db-type: sql
#    sql: postgres
#spec:
#  storageClassName: manual
#  accessModes:
#    - ReadWriteMany
#  resources:
#    requests:
#      storage: 1Gi
#
#---
#apiVersion: apps/v1
#kind: Deployment
#metadata:
#  name: sql-app-services-postgres
#  labels:
#    db-type: sql
#    sql: postgres
#spec:
#  replicas: 1
#  selector:
#    matchLabels:
#      app: sql-app-services-postgres
#  template:
#    metadata:
#      labels:
#        app: sql-app-services-postgres
#    spec:
##      initContainers:
##        - name: init-postgres
##          image: xpeiro92/init-postgres
##          envFrom:
##            - configMapRef:
##                name: sql-app-services-postgres-secret
#      containers:
#        - name: sql-app-services-postgres
#          image: postgres:16-alpine
#          imagePullPolicy: IfNotPresent
#          ports:
#            - containerPort: 5432
#          envFrom:
#            - configMapRef:
#                name: sql-app-services-postgres-secret
#          volumeMounts:
#            - mountPath: /var/lib/postgresql/data
#              name: postgresdata
#      volumes:
#        - name: postgresdata
#          persistentVolumeClaim:
#            claimName: sql-app-services-postgres-volume-claim
#
#---
#apiVersion: v1
#kind: Service
#metadata:
#  name: postgres
#  labels:
#    app: postgres
#spec:
#  type: NodePort
#  ports:
#    - port: 5432
#  selector:
#    app: sql-app-services-postgres
#
#
